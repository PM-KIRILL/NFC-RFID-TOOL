#NFC-RFID-TOOL
#██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████
#█░░░░░░░░░░░░░░█░░░░░░██████████░░░░░░████████████████░░░░░░██░░░░░░░░█░░░░░░░░░░█░░░░░░░░░░░░░░░░███░░░░░░░░░░█░░░░░░█████████░░░░░░█████████
#█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░░░░░░░░░░░░░▄▀░░████████████████░░▄▀░░██░░▄▀▄▀░░█░░▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀▄▀░░███░░▄▀▄▀▄▀░░█░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░░░░░▄▀░░█░░▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀▄▀░░████████████████░░▄▀░░██░░▄▀░░░░█░░░░▄▀░░░░█░░▄▀░░░░░░░░▄▀░░███░░░░▄▀░░░░█░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░██░░▄▀░░█░░▄▀░░░░░░▄▀░░░░░░▄▀░░████████████████░░▄▀░░██░░▄▀░░█████░░▄▀░░███░░▄▀░░████░░▄▀░░█████░░▄▀░░███░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░░░░░▄▀░░█░░▄▀░░██░░▄▀░░██░░▄▀░░█░░░░░░░░░░░░░░█░░▄▀░░░░░░▄▀░░█████░░▄▀░░███░░▄▀░░░░░░░░▄▀░░█████░░▄▀░░███░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀░░██░░▄▀░░██░░▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█████░░▄▀░░███░░▄▀▄▀▄▀▄▀▄▀▄▀░░█████░░▄▀░░███░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░░░░░░░░░█░░▄▀░░██░░░░░░██░░▄▀░░█░░░░░░░░░░░░░░█░░▄▀░░░░░░▄▀░░█████░░▄▀░░███░░▄▀░░░░░░▄▀░░░░█████░░▄▀░░███░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░█████████░░▄▀░░██████████░░▄▀░░████████████████░░▄▀░░██░░▄▀░░█████░░▄▀░░███░░▄▀░░██░░▄▀░░███████░░▄▀░░███░░▄▀░░█████████░░▄▀░░█████████
#█░░▄▀░░█████████░░▄▀░░██████████░░▄▀░░████████████████░░▄▀░░██░░▄▀░░░░█░░░░▄▀░░░░█░░▄▀░░██░░▄▀░░░░░░█░░░░▄▀░░░░█░░▄▀░░░░░░░░░░█░░▄▀░░░░░░░░░░█
#█░░▄▀░░█████████░░▄▀░░██████████░░▄▀░░████████████████░░▄▀░░██░░▄▀▄▀░░█░░▄▀▄▀▄▀░░█░░▄▀░░██░░▄▀▄▀▄▀░░█░░▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█░░▄▀▄▀▄▀▄▀▄▀░░█
#█░░░░░░█████████░░░░░░██████████░░░░░░████████████████░░░░░░██░░░░░░░░█░░░░░░░░░░█░░░░░░██░░░░░░░░░░█░░░░░░░░░░█░░░░░░░░░░░░░░█░░░░░░░░░░░░░░█
#██████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████████
import sys
import nfc
import ndef

def on_connect(tag):
    print(f'Считан NFC тег: {tag}')
    
    # Создание NDEF сообщения с текстовым содержимым
    text_record = ndef.TextRecord(input("Введите текст для записи на NFC метку: "))
    message = ndef.Message([text_record])
    
    try:
        # Запись сообщения на NFC метку
        tag.ndef.message = message
        print("Текст успешно записан на NFC метку.")
    except Exception as e:
        print(f"Ошибка при записи на NFC метку: {e}")
    
    return True

if __name__ == '__main__':
    with nfc.ContactlessFrontend('usb') as clf:
        print("Приложите NFC метку к считывателю...")
        while True:
            clf.connect(rdwr={'on-connect': on_connect})